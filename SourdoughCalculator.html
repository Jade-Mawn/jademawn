<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basil Pesto Recipe</title>
    <link rel="stylesheet" href="bakingStyles.css">
    <style>
        .slider-container {
            margin-top: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .slider-label {
            margin-right: 10px;
        }

        .slider {
            width: 200px;
            margin-right: 10px;
        }
    </style>
    <script>
        var currentLoaves = 1;
        var currentSize = "Large";
        var flourRatio = 0.5; // Initial ratio of bread flour to whole wheat flour
        var hydration = .70; // Array to store original amounts

        
        var sizeFactors = {
            "Large": 1,
            "Medium": 0.9,
            "Small": 0.8
        };

        var originalAmounts = [500,500]; // Array to store original amounts
        var texts = [" grams of bread flour", " grams of whole wheat flour"]; // Array to store original texts
        
        function scaleRecipe(factor) {
            currentLoaves = factor;
            updateRecipe();
        }

        function setSize(size) {
            currentSize = size;
            updateRecipe();
        }

        function updateRecipe() {
            var scaleFactor = sizeFactors[currentSize];
            var ingredients = document.querySelectorAll(".ingredient");
            
            ingredients.forEach(function(ingredient, index) {
                if (index === 0) {
                    // Calculate amounts for bread flour and whole wheat flour based on the ratio
                    var breadFlourAmount = originalAmounts[index] * currentLoaves * scaleFactor * flourRatio;
                    var wholeWheatFlourAmount = originalAmounts[index] * currentLoaves * scaleFactor * (1 - flourRatio);
                    // Update text content for bread flour
                    ingredient.textContent = Math.round(breadFlourAmount) + " grams of bread flour";
                    // Create a new list item for whole wheat flour
                    var newIngredient = document.createElement("li");
                    newIngredient.className = "ingredient";
                    newIngredient.textContent = Math.round(wholeWheatFlourAmount) + " grams of whole wheat flour";
                    ingredient.parentNode.insertBefore(newIngredient, ingredient.nextSibling);
                } else {
                    // Remove additional list items for whole wheat flour
                    ingredient.parentNode.removeChild(ingredient);
                }
            });

            ingredients

            document.getElementById("Loaves").textContent = "Loaves: " + currentLoaves;
            document.getElementById("Size").textContent = "Size: " + currentSize;
        }

        function updateFlourRatio(value) {
            flourRatio = value / 100; // Convert slider value to a ratio between 0 and 1
            updateRecipe();
        }
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="index.html" style="cursor:default; text-decoration: none; color: inherit;">Jade Mawn</a> Baking</h1>
            <nav>
                <ul>
                    <li><a href="bakingIndex.html" class="active">Home</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropbtn"  onmouseleave="toggleDropdown()" onmouseover="toggleDropdown()">Recipes</a>
                        <div class="dropdown-content" id="recipesDropdown">
                            <a href="Sourdough.html">Basic Sourdough</a>
                            <a href="SourdoughCalculator.html">Sourdough Calculator</a> <!-- Link to the new recipe -->
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <h2>Sourdough</h2>
        <p>
            Sourdough is a
        </p>
        <h3>Ingredients:</h3>
        <div id="Loaves">Loaves: 1</div>
        <div id="Size">Size: Large</div>
        <div>
            <button onclick="scaleRecipe(1)">1</button>
            <button onclick="scaleRecipe(2)">2</button>
            <button onclick="scaleRecipe(3)">3</button>
            <button onclick="scaleRecipe(4)">4</button>
        </div>
        <div>
            <button onclick="setSize('Small')">Small</button>
            <button onclick="setSize('Medium')">Medium</button>
            <button onclick="setSize('Large')">Large</button>
        </div>
        <div class="slider-container">
            <span class="slider-label">Bread Flour</span>
            <input type="range" min="0" max="100" value="0" step="10" class="slider" id="flourRatioSlider" oninput="updateFlourRatio(this.value)">
            <span class="slider-label">Whole Wheat Flour</span>
        </div>
        <div>
            <li class="ingredient"></li>
        </div>
        <script>updateRecipe()</script>
    </div>
</body>
</html>
